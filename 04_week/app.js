let movies = [{"id":0,"name":"편지","attendance":"724,747","date":"1997-11-22","like":0,"comment":188,"genre":"스파게티 웨스턴","movie_rating":"12세 이상 관람가","director":"스티븐 스필버그"},{"id":1,"name":"접속","attendance":"674,933","date":"1997-09-13","like":4,"comment":269,"genre":"판타지 영화","movie_rating":"12세 이상 관람가","director":"류승완"},{"id":2,"name":"비트","attendance":"349,781","date":"1997-05-03","like":5,"comment":819,"genre":"스플래터 영화","movie_rating":"제한관람가","director":"김택용"},{"id":3,"name":"할렐루야","attendance":"310,920","date":"1997-08-09","like":2,"comment":114,"genre":"전쟁 영화","movie_rating":"12세 이상 관람가","director":"변영주"},{"id":4,"name":"깡패수업","attendance":"176,757","date":"1996-12-21","like":4,"comment":422,"genre":"로드 무비","movie_rating":"15세 이상 관람가","director":"장진"},{"id":5,"name":"체인지","attendance":"167,235","date":"1997-01-18","like":7,"comment":998,"genre":"로맨틱 코미디 영화","movie_rating":"12세 이상 관람가","director":"이창동"},{"id":6,"name":"약속","attendance":"661,174","date":"1998-11-14","like":6,"comment":886,"genre":"로맨스 영화","movie_rating":"15세 이상 관람가","director":"강제규"},{"id":7,"name":"여고괴담","attendance":"621,032","date":"1998-05-30","like":2,"comment":384,"genre":"서부극","movie_rating":"청소년 관람불가","director":"변영주"},{"id":8,"name":"퇴마록","attendance":"419,201","date":"1998-08-15","like":6,"comment":546,"genre":"영화 장르","movie_rating":"15세 이상 관람가","director":"정지영"},{"id":9,"name":"정사","attendance":"304,666","date":"1998-10-03","like":8,"comment":189,"genre":"미스터리 영화","movie_rating":"전체관람가","director":"변영주"},{"id":10,"name":"쉬리","attendance":"2,448,399","date":"1999-02-13","like":1,"comment":712,"genre":"패러디 영화","movie_rating":"제한관람가","director":"나홍진"},{"id":11,"name":"텔미썸씽","attendance":"730,000","date":"1999-11-13","like":4,"comment":386,"genre":"뮤지컬 영화","movie_rating":"제한관람가","director":"정지영"},{"id":12,"name":"용가리","attendance":"500,000","date":"1999-07-17","like":0,"comment":169,"genre":"다큐픽션","movie_rating":"제한관람가","director":"김기덕"},{"id":13,"name":"해피엔드","attendance":"464,592","date":"1999-12-11","like":2,"comment":596,"genre":"청춘 영화","movie_rating":"청소년 관람불가","director":"강우석"},{"id":14,"name":"자귀모","attendance":"420,000","date":"1999-08-14","like":1,"comment":143,"genre":"로드 무비","movie_rating":"15세 이상 관람가","director":"김지운"},{"id":15,"name":"유령","attendance":"365,000","date":"1999-07-31","like":3,"comment":64,"genre":"포르노 영화","movie_rating":"15세 이상 관람가","director":"나홍진"},{"id":16,"name":"링","attendance":"332,354","date":"1999-06-12","like":5,"comment":945,"genre":"스파게티 웨스턴","movie_rating":"청소년 관람불가","director":"임권택"},{"id":17,"name":"러브","attendance":"174,000","date":"1999-09-18","like":10,"comment":607,"genre":"다큐픽션","movie_rating":"전체관람가","director":"김지운"},{"id":18,"name":"노랑머리","attendance":"117,941","date":"1999-06-26","like":2,"comment":409,"genre":"인권 영화","movie_rating":"15세 이상 관람가","director":"박찬욱"},{"id":19,"name":"신장개업","attendance":"100,915","date":"1999-05-01","like":3,"comment":153,"genre":"코미디 영화","movie_rating":"12세 이상 관람가","director":"홍상수"},{"id":20,"name":"마요네즈","attendance":"95,875","date":"1999-02-13","like":0,"comment":324,"genre":"스너프 필름","movie_rating":"제한관람가","director":"최동훈"},{"id":21,"name":"반칙왕","attendance":"787,423","date":"2000-02-04","like":7,"comment":715,"genre":"포르노 영화","movie_rating":"15세 이상 관람가","director":"김지운"},{"id":22,"name":"비천무","attendance":"717,659","date":"2000-07-01","like":9,"comment":864,"genre":"실험 영화","movie_rating":"제한관람가","director":"류승완"},{"id":23,"name":"단적비연수","attendance":"616,349","date":"2000-11-10","like":5,"comment":929,"genre":"다큐멘터리 영화","movie_rating":"15세 이상 관람가","director":"강우석"},{"id":24,"name":"리베라메","attendance":"530,768","date":"2000-11-11","like":7,"comment":732,"genre":"범죄 영화","movie_rating":"전체관람가","director":"김택용"},{"id":25,"name":"동감","attendance":"346,279","date":"2000-05-27","like":3,"comment":346,"genre":"스너프 필름","movie_rating":"전체관람가","director":"김지운"},{"id":26,"name":"가위","attendance":"334,364","date":"2000-07-29","like":2,"comment":609,"genre":"모큐멘터리","movie_rating":"12세 이상 관람가","director":"김기덕"},{"id":27,"name":"거짓말","attendance":"303,681","date":"2000-01-08","like":8,"comment":156,"genre":"뮤지컬 영화","movie_rating":"전체관람가","director":"김지운"},{"id":28,"name":"박하사탕","attendance":"290,352","date":"2000-01-01","like":10,"comment":687,"genre":"다큐픽션","movie_rating":"청소년 관람불가","director":"이창동"},{"id":29,"name":"시월애","attendance":"248,597","date":"2000-09-09","like":0,"comment":71,"genre":"에로 영화","movie_rating":"전체관람가","director":"박찬욱"},{"id":30,"name":"아나키스트","attendance":"236,900","date":"2000-04-29","like":3,"comment":423,"genre":"범죄 영화","movie_rating":"전체관람가","director":"임권택"},{"id":31,"name":"미인","attendance":"197,015","date":"2000-08-12","like":6,"comment":888,"genre":"가족 영화","movie_rating":"15세 이상 관람가","director":"강제규"},{"id":32,"name":"인터뷰","attendance":"157,431","date":"2000-04-11","like":9,"comment":351,"genre":"옴니버스 영화","movie_rating":"제한관람가","director":"박찬욱"},{"id":33,"name":"하면된다","attendance":"126,368","date":"2000-10-28","like":4,"comment":583,"genre":"재난 영화","movie_rating":"제한관람가","director":"나홍진"},{"id":34,"name":"춘향뎐","attendance":"110,358","date":"2000-01-29","like":6,"comment":556,"genre":"로드 무비","movie_rating":"제한관람가","director":"최동훈"},{"id":35,"name":"킬리만자로","attendance":"95,541","date":"2000-05-20","like":9,"comment":972,"genre":"식인 영화","movie_rating":"청소년 관람불가","director":"변영주"},{"id":36,"name":"오!수정","attendance":"90,257","date":"2000-05-27","like":1,"comment":669,"genre":"다큐멘터리 영화","movie_rating":"전체관람가","director":"변영주"},{"id":37,"name":"청춘","attendance":"89,604","date":"2000-10-14","like":3,"comment":780,"genre":"모험 영화","movie_rating":"청소년 관람불가","director":"봉준호"},{"id":38,"name":"싸이렌","attendance":"62,135","date":"2000-10-28","like":6,"comment":512,"genre":"엑스플로이테이션 영화","movie_rating":"제한관람가","director":"이창동"},{"id":39,"name":"순애보","attendance":"46,148","date":"2000-12-09","like":4,"comment":444,"genre":"공포 영화","movie_rating":"12세 이상 관람가","director":"홍상수"},{"id":40,"name":"신혼여행","attendance":"36,218","date":"2000-03-11","like":7,"comment":284,"genre":"섹스플로이테이션","movie_rating":"12세 이상 관람가","director":"나홍진"},{"id":41,"name":"섬","attendance":"32,137","date":"2000-04-22","like":3,"comment":353,"genre":"다큐픽션","movie_rating":"청소년 관람불가","director":"최동훈"},{"id":42,"name":"하피","attendance":"26,591","date":"2000-07-22","like":5,"comment":269,"genre":"슈퍼히어로 영화","movie_rating":"제한관람가","director":"나홍진"},{"id":43,"name":"비밀","attendance":"22,168","date":"2000-06-03","like":4,"comment":863,"genre":"드라마 영화","movie_rating":"제한관람가","director":"김기덕"},{"id":44,"name":"물고기자리","attendance":"15,674","date":"2000-10-21","like":10,"comment":380,"genre":"장편 영화","movie_rating":"제한관람가","director":"최동훈"},{"id":45,"name":"공포택시","attendance":"14,651","date":"2000-09-30","like":6,"comment":320,"genre":"모큐멘터리","movie_rating":"12세 이상 관람가","director":"최동훈"},{"id":46,"name":"이프","attendance":"13,591","date":"2000-06-24","like":4,"comment":352,"genre":"슈퍼히어로 영화","movie_rating":"12세 이상 관람가","director":"김지운"},{"id":47,"name":"천일동안(종합병원)","attendance":"8,881","date":"2000-03-04","like":8,"comment":116,"genre":"스파게티 웨스턴","movie_rating":"12세 이상 관람가","director":"홍상수"},{"id":48,"name":"건드레스","attendance":"7,128","date":"2000-02-26","like":0,"comment":493,"genre":"다큐픽션","movie_rating":"12세 이상 관람가","director":"스티븐 스필버그"},{"id":49,"name":"산책","attendance":"7,077","date":"2000-03-04","like":10,"comment":423,"genre":"식인 영화","movie_rating":"제한관람가","director":"나홍진"},{"id":50,"name":"진실게임","attendance":"6,993","date":"2000-03-18","like":1,"comment":747,"genre":"슈퍼히어로 영화","movie_rating":"15세 이상 관람가","director":"장진"},{"id":51,"name":"베니싱트윈","attendance":"6,019","date":"2000-09-23","like":1,"comment":685,"genre":"호스티스 영화","movie_rating":"15세 이상 관람가","director":"최동훈"},{"id":52,"name":"컷런스딥","attendance":"5,831","date":"2000-12-15","like":10,"comment":103,"genre":"핑크 영화","movie_rating":"12세 이상 관람가","director":"봉준호"},{"id":53,"name":"학교전설","attendance":"3,503","date":"2000-01-01","like":2,"comment":587,"genre":"옴니버스 영화","movie_rating":"제한관람가","director":"박찬욱"},{"id":54,"name":"정","attendance":"2,632","date":"2000-06-17","like":5,"comment":774,"genre":"에로 영화","movie_rating":"전체관람가","director":"임권택"},{"id":55,"name":"사슬","attendance":"2,513","date":"2000-10-07","like":8,"comment":367,"genre":"서부극","movie_rating":"15세 이상 관람가","director":"정지영"},{"id":56,"name":"실제상황","attendance":"2,285","date":"2000-06-24","like":6,"comment":752,"genre":"목버스터","movie_rating":"15세 이상 관람가","director":"박찬욱"},{"id":57,"name":"구멍","attendance":"1,635","date":"2000-03-04","like":1,"comment":307,"genre":"스너프 필름","movie_rating":"전체관람가","director":"김지운"},{"id":58,"name":"봉자","attendance":"949","date":"2000-11-25","like":3,"comment":109,"genre":"버디 영화","movie_rating":"15세 이상 관람가","director":"봉준호"},{"id":59,"name":"스트라이커","attendance":"938","date":"2000-10-21","like":9,"comment":593,"genre":"장편 영화","movie_rating":"청소년 관람불가","director":"강우석"},{"id":60,"name":"그림일기","attendance":"765","date":"2000-04-22","like":1,"comment":289,"genre":"멜로드라마","movie_rating":"15세 이상 관람가","director":"강제규"},{"id":61,"name":"깡패수업3","attendance":"519","date":"2000-03-04","like":1,"comment":87,"genre":"엑스플로이테이션 영화","movie_rating":"제한관람가","director":"이창동"},{"id":62,"name":"집착(아티스트)","attendance":"317","date":"2000-11-01","like":0,"comment":222,"genre":"블랙스플로이테이션","movie_rating":"청소년 관람불가","director":"김택용"},{"id":63,"name":"침향","attendance":"197","date":"2000-06-10","like":1,"comment":425,"genre":"반전 영화","movie_rating":"제한관람가","director":"장진"},{"id":64,"name":"깡패법칙","attendance":"114","date":"2000-10-07","like":8,"comment":898,"genre":"인권 영화","movie_rating":"전체관람가","director":"강제규"},{"id":65,"name":"친구","attendance":"2,579,950","date":"2001-03-31","like":0,"comment":419,"genre":"갱스터 영화","movie_rating":"제한관람가","director":"이창동"},{"id":66,"name":"조폭마누라","attendance":"1,466,400","date":"2001-09-28","like":0,"comment":999,"genre":"서부극","movie_rating":"청소년 관람불가","director":"강제규"},{"id":67,"name":"두사부일체","attendance":"1,215,900","date":"2001-12-14","like":4,"comment":202,"genre":"목버스터","movie_rating":"12세 이상 관람가","director":"김지운"},{"id":68,"name":"무사","attendance":"873,600","date":"2001-09-07","like":3,"comment":370,"genre":"다큐멘터리 영화","movie_rating":"12세 이상 관람가","director":"나홍진"},{"id":69,"name":"화산고","attendance":"613,300","date":"2001-12-08","like":1,"comment":768,"genre":"모큐멘터리","movie_rating":"제한관람가","director":"정지영"},{"id":70,"name":"선물","attendance":"461,750","date":"2001-03-24","like":0,"comment":978,"genre":"식인 영화","movie_rating":"전체관람가","director":"김택용"},{"id":71,"name":"흑수선","attendance":"414,200","date":"2001-11-16","like":7,"comment":84,"genre":"청춘 영화","movie_rating":"전체관람가","director":"나홍진"},{"id":72,"name":"인디안썸머","attendance":"394,032","date":"2001-05-05","like":0,"comment":226,"genre":"로드 무비","movie_rating":"12세 이상 관람가","director":"박찬욱"},{"id":73,"name":"하루","attendance":"294,950","date":"2001-01-20","like":10,"comment":577,"genre":"스플래터 영화","movie_rating":"15세 이상 관람가","director":"이창동"},{"id":74,"name":"베사메무쵸","attendance":"248,000","date":"2001-08-31","like":10,"comment":323,"genre":"가족 영화","movie_rating":"15세 이상 관람가","director":"류승완"},{"id":75,"name":"자카르타","attendance":"237,700","date":"2000-12-30","like":4,"comment":916,"genre":"장편 영화","movie_rating":"제한관람가","director":"최동훈"},{"id":76,"name":"파이란","attendance":"230,242","date":"2001-04-28","like":1,"comment":365,"genre":"청춘 영화","movie_rating":"제한관람가","director":"임권택"},{"id":77,"name":"와이키키브라더스","attendance":"89,700","date":"2001-10-26","like":8,"comment":308,"genre":"슈퍼히어로 영화","movie_rating":"전체관람가","director":"김기덕"},{"id":78,"name":"소름","attendance":"80,700","date":"2001-08-04","like":7,"comment":93,"genre":"갱스터 영화","movie_rating":"제한관람가","director":"봉준호"},{"id":79,"name":"썸머타임","attendance":"80,299","date":"2001-05-25","like":3,"comment":297,"genre":"하이스트 영화","movie_rating":"전체관람가","director":"임권택"},{"id":80,"name":"세이예스","attendance":"55,200","date":"2001-08-17","like":4,"comment":352,"genre":"종교 영화","movie_rating":"청소년 관람불가","director":"김기덕"},{"id":81,"name":"Go","attendance":"51,100","date":"2001-11-23","like":2,"comment":629,"genre":"스포츠 영화","movie_rating":"전체관람가","director":"박찬욱"},{"id":82,"name":"교도소월드컵","attendance":"38,100","date":"2001-05-18","like":9,"comment":393,"genre":"역사 영화","movie_rating":"전체관람가","director":"강제규"},{"id":83,"name":"휴머니스트","attendance":"32,140","date":"2001-05-12","like":9,"comment":350,"genre":"버디 영화","movie_rating":"15세 이상 관람가","director":"김기덕"},{"id":84,"name":"눈물","attendance":"27,900","date":"2001-01-20","like":2,"comment":141,"genre":"드라마 영화","movie_rating":"청소년 관람불가","director":"나홍진"},{"id":85,"name":"노랑머리2","attendance":"26,440","date":"2001-07-21","like":6,"comment":799,"genre":"서사 영화","movie_rating":"12세 이상 관람가","director":"류승완"},{"id":86,"name":"런딤","attendance":"22,600","date":"2001-11-09","like":6,"comment":589,"genre":"모큐멘터리","movie_rating":"제한관람가","director":"정지영"},{"id":87,"name":"천사몽","attendance":"13,900","date":"2001-02-10","like":1,"comment":637,"genre":"갱스터 영화","movie_rating":"전체관람가","director":"류승완"},{"id":88,"name":"수취인불명","attendance":"10,048","date":"2001-06-02","like":5,"comment":625,"genre":"공포 영화","movie_rating":"제한관람가","director":"류승완"},{"id":89,"name":"광시곡","attendance":"7,000","date":"2001-02-10","like":5,"comment":429,"genre":"서부극","movie_rating":"청소년 관람불가","director":"강우석"},{"id":90,"name":"꽃섬","attendance":"6,419","date":"2001-11-24","like":3,"comment":56,"genre":"로맨스 영화","movie_rating":"청소년 관람불가","director":"김기덕"},{"id":91,"name":"나비","attendance":"5,800","date":"2001-10-13","like":4,"comment":407,"genre":"갱스터 영화","movie_rating":"청소년 관람불가","director":"강제규"},{"id":92,"name":"아이러브유","attendance":"3,700","date":"2001-08-25","like":6,"comment":226,"genre":"옴니버스 영화","movie_rating":"15세 이상 관람가","director":"최동훈"},{"id":93,"name":"라이방","attendance":"3,200","date":"2001-11-02","like":5,"comment":337,"genre":"재난 영화","movie_rating":"제한관람가","director":"임권택"},{"id":94,"name":"헤라퍼플","attendance":"1,314","date":"2001-11-03","like":5,"comment":965,"genre":"로맨스 영화","movie_rating":"12세 이상 관람가","director":"김지운"},{"id":95,"name":"스무살","attendance":"1,300","date":"2001-04-21","like":1,"comment":338,"genre":"재난 영화","movie_rating":"전체관람가","director":"강제규"},{"id":96,"name":"고추불패","attendance":"1,011","date":"2001-08-25","like":9,"comment":316,"genre":"전쟁 영화","movie_rating":"15세 이상 관람가","director":"류승완"},{"id":97,"name":"고해","attendance":"822","date":"2001-05-25","like":4,"comment":280,"genre":"실험 영화","movie_rating":"15세 이상 관람가","director":"류승완"},{"id":98,"name":"잎새","attendance":"604","date":"2001-10-20","like":0,"comment":964,"genre":"인권 영화","movie_rating":"제한관람가","director":"홍상수"},{"id":99,"name":"고추말리기","attendance":"550","date":"2001-02-10","like":7,"comment":561,"genre":"다큐픽션","movie_rating":"15세 이상 관람가","director":"류승완"},{"id":100,"name":"집으로","attendance":"1,596,521","date":"2002-04-05","like":5,"comment":226,"genre":"목버스터","movie_rating":"제한관람가","director":"김기덕"},{"id":101,"name":"광복절특사","attendance":"911,315","date":"2002-11-21","like":1,"comment":541,"genre":"핑크 영화","movie_rating":"청소년 관람불가","director":"변영주"},{"id":102,"name":"폰","attendance":"765,000","date":"2002-07-26","like":6,"comment":336,"genre":"가족 영화","movie_rating":"청소년 관람불가","director":"나홍진"},{"id":103,"name":"몽정기","attendance":"760,698","date":"2002-11-06","like":5,"comment":549,"genre":"슈퍼히어로 영화","movie_rating":"청소년 관람불가","director":"장진"},{"id":104,"name":"연애소설","attendance":"589,743","date":"2002-09-13","like":2,"comment":677,"genre":"로드 무비","movie_rating":"15세 이상 관람가","director":"스티븐 스필버그"},{"id":105,"name":"챔피언","attendance":"567,000","date":"2002-06-28","like":0,"comment":821,"genre":"섹스플로이테이션","movie_rating":"제한관람가","director":"강우석"},{"id":106,"name":"오아시스","attendance":"558,046","date":"2002-08-15","like":8,"comment":706,"genre":"장편 영화","movie_rating":"12세 이상 관람가","director":"이창동"},{"id":107,"name":"취화선","attendance":"443,294","date":"2002-05-10","like":10,"comment":843,"genre":"서사 영화","movie_rating":"12세 이상 관람가","director":"나홍진"},{"id":108,"name":"중독","attendance":"346,453","date":"2002-10-25","like":2,"comment":241,"genre":"SF 영화","movie_rating":"12세 이상 관람가","director":"장진"},{"id":109,"name":"보스상륙작전","attendance":"343,256","date":"2002-09-06","like":5,"comment":723,"genre":"논픽션 영화","movie_rating":"15세 이상 관람가","director":"홍상수"},{"id":110,"name":"정글쥬스","attendance":"285,249","date":"2002-03-22","like":5,"comment":833,"genre":"스파게티 웨스턴","movie_rating":"12세 이상 관람가","director":"변영주"},{"id":111,"name":"울랄라씨스터즈","attendance":"245,930","date":"2002-04-26","like":9,"comment":675,"genre":"가족 영화","movie_rating":"청소년 관람불가","director":"정지영"},{"id":112,"name":"밀애","attendance":"144,602","date":"2002-11-08","like":8,"comment":610,"genre":"인권 영화","movie_rating":"제한관람가","director":"봉준호"},{"id":113,"name":"패밀리","attendance":"134,310","date":"2002-08-23","like":2,"comment":247,"genre":"패러디 영화","movie_rating":"12세 이상 관람가","director":"장진"},{"id":114,"name":"예스터데이","attendance":"125,000","date":"2002-06-13","like":3,"comment":727,"genre":"에로 영화","movie_rating":"청소년 관람불가","director":"김택용"},{"id":115,"name":"해안선","attendance":"121,550","date":"2002-11-22","like":1,"comment":695,"genre":"스플래터 영화","movie_rating":"12세 이상 관람가","director":"최동훈"},{"id":116,"name":"서프라이즈","attendance":"110,642","date":"2002-07-05","like":2,"comment":462,"genre":"논픽션 영화","movie_rating":"전체관람가","director":"김기덕"},{"id":117,"name":"후아유","attendance":"88,630","date":"2002-05-24","like":1,"comment":615,"genre":"포르노 영화","movie_rating":"청소년 관람불가","director":"나홍진"},{"id":118,"name":"쓰리","attendance":"73,750","date":"2002-08-23","like":0,"comment":195,"genre":"괴수 영화","movie_rating":"전체관람가","director":"정지영"},{"id":119,"name":"하얀방","attendance":"72,000","date":"2002-11-15","like":8,"comment":835,"genre":"로맨스 영화","movie_rating":"15세 이상 관람가","director":"정지영"},{"id":120,"name":"2424","attendance":"69,850","date":"2002-10-18","like":4,"comment":530,"genre":"패러디 영화","movie_rating":"15세 이상 관람가","director":"김택용"},{"id":121,"name":"마리이야기","attendance":"54,404","date":"2002-01-11","like":0,"comment":402,"genre":"괴수 영화","movie_rating":"전체관람가","director":"이창동"},{"id":122,"name":"버스정류장","attendance":"39,600","date":"2002-03-08","like":1,"comment":384,"genre":"SF 영화","movie_rating":"12세 이상 관람가","director":"스티븐 스필버그"},{"id":123,"name":"유아독존","attendance":"38,708","date":"2002-11-07","like":6,"comment":559,"genre":"블랙스플로이테이션","movie_rating":"15세 이상 관람가","director":"나홍진"},{"id":124,"name":"올드보이","attendance":"1,140,000","date":"2003-11-21","like":7,"comment":403,"genre":"반전 영화","movie_rating":"15세 이상 관람가","director":"강제규"},{"id":125,"name":"황산벌","attendance":"960,394","date":"2003-10-17","like":6,"comment":260,"genre":"로드 무비","movie_rating":"전체관람가","director":"김지운"},{"id":126,"name":"싱글즈","attendance":"859,347","date":"2003-07-11","like":10,"comment":445,"genre":"가족 영화","movie_rating":"청소년 관람불가","director":"장진"},{"id":127,"name":"실미도","attendance":"694,174","date":"2003-12-24","like":3,"comment":750,"genre":"스플래터 영화","movie_rating":"15세 이상 관람가","director":"김지운"},{"id":128,"name":"클래식","attendance":"564,348","date":"2003-01-30","like":4,"comment":364,"genre":"장편 영화","movie_rating":"전체관람가","director":"김택용"},{"id":129,"name":"똥개","attendance":"434,660","date":"2003-07-16","like":7,"comment":381,"genre":"단편 영화","movie_rating":"15세 이상 관람가","director":"이창동"},{"id":130,"name":"이중간첩","attendance":"361,580","date":"2003-01-23","like":7,"comment":293,"genre":"패러디 영화","movie_rating":"15세 이상 관람가","director":"최동훈"},{"id":131,"name":"영어완전정복","attendance":"330,121","date":"2003-11-05","like":5,"comment":446,"genre":"영화 장르","movie_rating":"전체관람가","director":"홍상수"},{"id":132,"name":"낭만자객","attendance":"292,190","date":"2003-12-05","like":3,"comment":506,"genre":"갱스터 영화","movie_rating":"전체관람가","director":"김지운"},{"id":133,"name":"거울속으로","attendance":"242,958","date":"2003-08-14","like":5,"comment":608,"genre":"장편 영화","movie_rating":"12세 이상 관람가","director":"변영주"},{"id":134,"name":"청풍명월","attendance":"191,600","date":"2003-07-16","like":7,"comment":758,"genre":"포르노 영화","movie_rating":"청소년 관람불가","director":"이창동"},{"id":135,"name":"나비","attendance":"173,613","date":"2003-04-30","like":2,"comment":616,"genre":"단편 영화","movie_rating":"청소년 관람불가","director":"변영주"},{"id":136,"name":"...ing","attendance":"159,396","date":"2003-11-28","like":6,"comment":85,"genre":"다큐멘터리 영화","movie_rating":"전체관람가","director":"정지영"},{"id":137,"name":"마들렌","attendance":"146,482","date":"2003-01-10","like":4,"comment":496,"genre":"서부극","movie_rating":"청소년 관람불가","director":"김지운"},{"id":138,"name":"원더풀데이즈","attendance":"140,080","date":"2003-07-17","like":8,"comment":389,"genre":"식인 영화","movie_rating":"15세 이상 관람가","director":"강제규"},{"id":139,"name":"튜브","attendance":"123,020","date":"2003-06-05","like":1,"comment":660,"genre":"버디 영화","movie_rating":"12세 이상 관람가","director":"장진"},{"id":140,"name":"천년호","attendance":"101,478","date":"2003-11-28","like":1,"comment":583,"genre":"다큐멘터리 영화","movie_rating":"제한관람가","director":"류승완"},{"id":141,"name":"동승","attendance":"100,530","date":"2003-04-11","like":5,"comment":451,"genre":"슈퍼히어로 영화","movie_rating":"제한관람가","director":"강우석"},{"id":142,"name":"블루","attendance":"61,223","date":"2003-02-07","like":10,"comment":962,"genre":"청춘 영화","movie_rating":"청소년 관람불가","director":"김지운"},{"id":143,"name":"남남북녀","attendance":"55,246","date":"2003-08-29","like":9,"comment":659,"genre":"드라마 영화","movie_rating":"12세 이상 관람가","director":"변영주"},{"id":144,"name":"하늘정원","attendance":"38,773","date":"2003-04-04","like":3,"comment":645,"genre":"하이스트 영화","movie_rating":"12세 이상 관람가","director":"정지영"},{"id":145,"name":"아카시아","attendance":"35,660","date":"2003-10-17","like":7,"comment":377,"genre":"서부극","movie_rating":"제한관람가","director":"박찬욱"},{"id":146,"name":"은장도","attendance":"25,641","date":"2003-10-24","like":6,"comment":214,"genre":"목버스터","movie_rating":"15세 이상 관람가","director":"박찬욱"}];

!function(window) {
  let $ = window.D, $1 = window.D1, lo = {};
  function to_number(str) { return parseInt(str.replace(',', '')) }
  _.reverse = arr => arr.reverse();

  let movie_filter = _.memoize((cri1, cri2, cri3) =>
    _.filter(movies, movie => {
      let r = cri1.length ? _.contains(cri1, movie.movie_rating) : true,
        g = cri2.length ? _.contains(cri2, movie.genre) : true,
        d = cri3.length ? _.contains(cri3, movie.director) : true;
      return _.every([r, g, d])
      }
    ), (cri1, cri2, cri3) => cri1.join() + '&&' + cri2.join() + '&&' + cri3.join());

  let checked_filter = __(_.filter(input => input.checked), $.val);

  _.each($('.movie_box'), __(
    _.c(movies),
    _.t$(`
      .header
        .title 
          h3 한국 영화 무비 박스
        .filter
          .rating
            label 등급 
            .inputs {{_.go($, _.map(m => m.movie_rating), _.uniq, _.sum(`, _.t$(`
              input[type=checkbox name=movie_rating value='{{$}}'] {{$}}
            `) ,`))}}
          .genre
            label 장르 
            .inputs {{_.go($, _.map(m => m.genre), _.uniq, _.sum(`, _.t$(`
              input[type=checkbox name=genre value='{{$}}'] {{$}}
            `) ,`))}}
          .director
            label 감독 
            .inputs {{_.go($, _.map(m => m.director), _.uniq, _.sum(`, _.t$(`
              input[type=checkbox name=director value='{{$}}'] {{$}}
            `) ,`))}}
        .sort
          select
            option[value=name] 이름
            option[value=attendance] 관객수
            option[value=comment] 댓글
            option[value=like] 좋아요
      .body
        ul.movie_list {{_.go($, `, lo.items = _.sum(_.t$(`
          li.movie_item {{$.name}} | {{$.date}} | {{$.director}} | {{$.genre}} | {{$.movie_rating}} [ {{$.like}} | {{$.comment}} ]
        `)) ,`)}}
    `),
    $.prepend_to('.movie_box'),


    _.c('.movie_box'), $,
    $.on('change', '.filter input[type=checkbox]', __(
      () => {
        let ratings = checked_filter($('.rating input')),
          genres = checked_filter($('.genre input')),
          directors = checked_filter($('.director input'));

        return movie_filter(ratings, genres, directors);
      },
      lo.items, $.html_to('.movie_list')
    )),

    $.on('change', '.sort select', __(
      lo.items, $.html_to('.movie_list')
    )),

  ))

}(window);